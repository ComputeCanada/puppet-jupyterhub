# jupyterhub/data/common.yaml
---
jupyterhub::jupyterhub::version: 1.1.0
jupyterhub::batchspawner::url: https://github.com/cmd-ntrf/batchspawner/archive/puppet-jh.zip
jupyterhub::slurmformspawner::version: 2.1.1
jupyterhub::pammfauthenticator::url: https://github.com/cmd-ntrf/pammfauthenticator/archive/master.zip

jupyterhub::kernel::setup: module
jupyterhub::kernel::module::list: ['ipython-kernel/3.7']

jupyterhub::reverse_proxy::ssl_certificate_path: ''
jupyterhub::reverse_proxy::ssl_certificate_key_path: ''

# letsencrypt options
jupyterhub::reverse_proxy::letsencrypt::enable: true
jupyterhub::reverse_proxy::letsencrypt::configure_epel: false
jupyterhub::reverse_proxy::letsencrypt::renew_cron_ensure: present
jupyterhub::reverse_proxy::letsencrypt::unsafe_registration: true
jupyterhub::reverse_proxy::letsencrypt::email: null
jupyterhub::reverse_proxy::letsencrypt::certonly::plugin: standalone

# Jupyter Notebook Server Proxy List
jupyterhub::jupyter_notebook_config_hash:
  ServerProxy:
    servers:
      rstudio:
        command: ["rserver", "--www-address=127.0.0.1", "--www-port={port}", "--www-frame=same"]
        timeout: 30
        launcher_entry:
          title: RStudio
      code-server:
        command: ["code-server", "--no-auth", "--disable-telemetry",  "--allow-http", "--port={port}"]
        timeout: 30
        launcher_entry:
          title: VS Code
      openrefine:
        command: ["refine", "-p {port}", "-x refine.headless=true", ]
        timeout: 30
        launcher_entry:
          title: OpenRefine
